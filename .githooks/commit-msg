#!/bin/sh

branchname="$(git rev-parse --abbrev-ref HEAD)"
validbranchregex="(hotfix|feature|release|bugfix)\/([A-Z]+\-[0-9]+).*"
[[ $branchname =~ $validbranchregex ]]
taskname=${BASH_REMATCH[2]}

commitmessage="$(cat $1)"

if [[ $commitmessage != $taskname* ]]
then
	echo "Commit message does not start with $taskname. This is case sensitive"
	exit 2
fi
